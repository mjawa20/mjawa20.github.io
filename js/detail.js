let database = [{
        id: 1,
        judul: "Batman",
        sutradara: "Matt Reeves",
        durasi: "176 minutes",
        bahasa: "inggris",
        sinopsis: "Di tahun keduanya sebagai Batman (Robert Pattinson), Bruce Wayne berjuang untuk menemukan tempatnya sebagai pemburu kejahatan. Dia menanamkan rasa takut pada mereka yang melakukan tindakan kriminal, akan tetapi dengan metodenya yang selalu main hakim sendiri.",
        //  Alasannya, karena dia masih belum mendapatkan kepercayaan dari orang- orang, kecuali Letnan James 'Jim' Gordon(Jeffrey Wright) yang mengizinkan Batman menyelidiki TKP bersamanya.Kasus berikutnya yang harus ia hadapi adalah kasus pembunuhan dan korbannya adalah Walikota Don Mitchell Jr(Rupert Penry - Jones).Orang yang dicurigai sebagai dalang dari pembunuhan tersebut adalah seseorang yang menyebut dirinya The Riddler(Paul Dano).Batman pun mulai mengumpulkan petunjuk yang ditinggalkan si pembunuh setelah ia melakukan aksinya.\n Dengan bantuan Selina Kyle alias Zoe Kravitz yang menjadi pelayan di klub bos mafia Carmine Falcone alias John Turturo, Batman bekerja untuk memecahkan misteri sebelum The Riddler dapat mengklaim korban berikutnya.Misteri yang membawanya pada rahasia besar tentang Gotham dan juga tentang keluarganya"
        image: "asset/Batman.jpg",
        trailer: "mqqft2x_Aa4"
    },
    {
        id: 2,
        judul: "Black Panter: Wakanda Forever",
        sutradara: "Ryan Coogler",
        durasi: "161 menit",
        bahasa: "inggris",
        sinopsis: "Black Panther: Wakanda Forever mengisahkan tentang kerajaan Wakanda yang sedang dilanda kesedihan. Mereka harus kehilangan sosok raja mereka yaitu King T'Chala yang telah meninggal dunia. Rakyat Wakanda tidak hanya menghadapi kesedihan, tetapi juga harus berjuang untuk melindungi kerajaan tersebut.",
        image: "asset/black panter 2.jpg",
        trailer: "_Z3QKkl1WyM"
    },
    {
        id: 3,
        judul: "Doctor Strange in the Multiverse of Madness",
        sutradara: "Sam Raimi",
        durasi: "126 minutes",
        bahasa: "inggris",
        sinopsis: "Doctor Strange 2 mengisahkan perjuangan Stephen Strange (Benedict Cumberbatch) menghadapi berbagai kejadian aneh akibat pintu lintas semesta yang terbuka pasca kejadian di Spider-Man No way Home.",
        image: "asset/Doctor of Strange.jpg",
        trailer: "aWzlQ2N6qqg"
    },
    {
        id: 4,
        judul: "Godzilla",
        sutradara: "Michael Dougherty",
        durasi: "164 minutes",
        bahasa: "inggris",
        sinopsis: "Emma Russell adalah seorang ahli paleobiologi untuk organisasi cryptocryptical Monarch, yang mencari dan mempelajari makhluk raksasa yang dikenal sebagai 'Titans'. Dia dan putrinya, Madison, menyaksikan kelahiran larva yang dijuluki Mothra.",
        // Emma menenangkan Mothra dengan 'Orca', sebuah perangkat yang mampu melocalDatarkan frekuensi yang dapat menarik atau mengubah perilaku Titan.Sekelompok teroris lingkungan, yang dipimpin oleh Alan Jonah, tiba- tiba menyerang pangkalan dan menculik Emma dan Madison.Mothra melarikan diri dan menjadi kepompong di bawah air terjun.Ilmuwan raja Dr.Ishirō Serizawa dan Dr.Vivienne Graham mendekati Mark Russell, mantan suami Emma dan ayah Madison, untuk melacak mereka.Tim Monarch mengikuti Godzilla ke Antartika, tempat Jonah bermaksud membebaskan Titan berkepala tiga dengan nama sandi 'Monster Zero'.Emma membebaskan dan membangunkan Monster Zero, yang membunuh beberapa anggota Monarch, termasuk Dr.Graham, sebelum bertarung dengan Godzilla.Tim menyadari bahwa Emma tidak diculik oleh para teroris, tetapi diam - diam bekerja dengan mereka.Emma menghubungi mereka dan berpendapat bahwa Titans harus dibangunkan untuk menyembuhkan planet dari kerusakan yang disebabkan manusia."
        image: "asset/godzilla.jpg",
        trailer: "odM92ap8_c0"
    },
    {
        id: 5,
        judul: "Jurassic World Dominion",
        sutradara: "Colin Trevorrow",
        durasi: "146 minutes",
        bahasa: "inggris",
        sinopsis: "Dilansir dari Jurassic Wiki, Dominion terjadi empat tahun setelah Isla Nublar dihancurkan. Dinosaurus sekarang hidup dan berburu bersama manusia di seluruh dunia. Keseimbangan yang rapuh ini akan membentuk kembali masa depan dan menentukan apakah manusia akan tetap menjadi predator puncak di planet yang sekarang ditempati bersama makhluk paling menakutkan dalam sejarah.",
        image: "asset/Jurrasic World.jpg",
        trailer: "fb5ELWi-ekk"
    },
    {
        id: 6,
        judul: "KKN di Desa Penari",
        sutradara: "Awi Suryadi",
        durasi: "130 minutes",
        bahasa: "indonesia",
        sinopsis: "KKN di Desa Penari menceritakan berbagai kejadian mistis yang dialami enam mahasiswa ketika menjalani KKN di sebuah desa terpencil. Film ini menceritakan enam mahasiswa yang sedang menjalani Kuliah Kerja Nyata (KKN) di sebuah desa terpencil.",
        image: "asset/KKN di Desa Penari.jpg",
        trailer: "PAMx9m4Z2V4"
    },
    {
        id: 7,
        judul: "Garuda di dadaku",
        sutradara: "Ifa Isfansyah",
        durasi: "133 minutes",
        bahasa: "indonesia",
        sinopsis: "Garuda di Dadaku adalah film Indonesia yang dirilis pada tanggal 18 Juni 2009 yang disutradarai oleh Ifa Isfansyah dan dijadikan ke dalam novel 'Mimpi Sang Garuda' karya Benny Rhamdani. ",
        // Film ini dibintangi antara lain oleh Emir Mahira, Aldo Tansani, Marsha Aruan, Ikranegara, Maudy Koesnaedi, Ari Sihasale, dan Ramzi.Pembuatan film ini dilakukan di beberapa lokasi di Jakarta, tepatnya di Stadion Utama Gelora Bung Karno, yang merupakan bagian dari kompleks olahraga Gelanggang Olahraga Bung Karno di kawasan Senayan, Jakarta Selatan, untuk pengambilan adegan seleksi pemain Tim Nasional(Timnas) Indonesia U13 dan pertandingan antara Timnas Indonesia U13 melawan Jepang."
        image: "asset/poster garuda di dadaku.jpg",
        trailer: "aPY9VM9-AE4"
    },
    {
        id: 8,
        judul: "The Dark Knight",
        sutradara: "Christopher Nolan",
        durasi: "152 minutes",
        bahasa: "inggris",
        sinopsis: "Sebuah bank di Gotham City dirampok oleh sekelompok kriminal. Joker memanipulasi dengan menyuruh mereka saling membunuh satu sama lain agar mendapatkan bagian yang lebih besar. Para perampok itu pun saling membunuh satu sama lain dan hanya menyisakan Joker seorang yang selamat.",
        image: "asset/poster the dark knight.jpg",
        trailer: "EXeTwQWrcwY"
    },
    {
        id: 9,
        judul: "Scream",
        sutradara: "Matt Bettinelli-Olpin, Tyler Gillett",
        durasi: "114 minutes",
        bahasa: "inggris",
        sinopsis: "Film Scream 1 berkisah tentang kehidupan seorang pelajar SMA bernama Sidney Prescott (Neve Campbell). Dia mendapat teror setelah kematian ibunya. Tak cuma Sidney, seluruh teman-temannya yang merupakan remaja juga mendapat terror di kota Woodsboro. Teror dimulai dengan telepon yang mengajukan beberapa pertanyaan.",
        image: "asset/scream.jpg",
        trailer: "beToTslH17s"
    },
    {
        id: 10,
        judul: "Sonic the Hedgehog 2",
        sutradara: "Jeff Fowler",
        durasi: "122 minutes",
        bahasa: "inggris",
        sinopsis: "Sonic the Hedgehog 2 adalah film bergenre animasi, aksi, dan petualangan yang bercerita tentang kembalinya Dr. Robotnik ke Bumi dengan pasukan baru.",
        image: "asset/sonic.jpg",
        trailer: "47r8FXYZWNU"
    },
    {
        id: 11,
        judul: "Sri Asih",
        sutradara: "Upi",
        durasi: "135 minutes",
        bahasa: "indonesia",
        sinopsis: "Alana tidak mengerti mengapa dia selalu dikuasai oleh kemarahan. Tapi dia selalu berusaha untuk melawannya. Dia lahir saat letusan gunung berapi yang memisahkan dia dan orang tuanya.",
        //  Dia kemudian diadopsi oleh seorang wanita kaya yang berusaha membantunya menjalani kehidupan normal.Tapi saat dewasa, Alana menemukan kebenaran tentang asalnya.Dia bukan manusia biasa.Dia bisa menjadi kebaikan untuk kehidupan.Atau menjadi kehancuran bila ia tidak dapat mengendalikan amarahnya."
        image: "asset/Sri Asih.jpg",
        trailer: "564eG_1Mvf0"
    },
    {
        id: 12,
        judul: "Turning Year",
        sutradara: "Domee Shi",
        durasi: "100 minutes",
        bahasa: "inggris",
        sinopsis: "Film Turning Red bercerita tentang seorang gadis berusia 13 tahun yang bernama Meilin “Mei” Lee yang hidup di Toronto. Mei merupakan sosok remaja yang unik dan percaya diri. Ia memiliki tiga orang teman baik. Mei banyak menghabiskan waktu bersama teman-teman dekatnya.",
        image: "asset/Turning Year.jpg",
        trailer: "XdKzUbAiswE"
    },
]

const getFilmById = (database, id) => {
    let result = {}
        // if (
        //   id === undefined ||
        //   id >= database.length ||
        //   id < 0 ||
        //   typeof id !== "number"
        // ) {
        //   return "mikir"
        // } else {
    for (let i = 0; i < database.length; i++) {
        if (database[i].id == id) {
            result = database[i]
        }
        //   }
    }
    return result
}

function getId() {
    let url = document.URL
    let id = url.split("?")[1]
    return id.split("=")[1]
}

function beli() {
    const carts = JSON.parse(localStorage.getItem("item"))
    let nama = document.getElementById("nama").value
    let jam = document.getElementById("jam").value
    let jumlah = document.getElementById("jumlah").value

    if (!nama || !jam || !jumlah) {
        console.log(Number(jumlah))
        alert("masukkan semua input yang benar geh")
        return
    }
    if (!isNaN(Number(nama)) || nama.length <= 3 ) {
        alert("masukkan nama yang benar geh")
        return
    }
    if (isNaN(Number(jumlah)) || Number(jumlah) < 1) {
        alert("masukkan input jumlah yang benar geh")
        return
    }

    carts.push({ nama, jam, jumlah, product: getId() })
    
    localStorage.setItem("item", JSON.stringify(carts))
    alert(`Selamat ${nama} anda telah membeli tiket`)
    window.location.href = "cart.html"
}

function render() {
    let id = getId()

    let detail = document.getElementById("detail")
    let embed = document.getElementById("embed")
    let data = getFilmById(database, id)

    detail.innerHTML = `
  <div class="box">
      <div class="img"  style="height:80%;width:auto">
          <img src="${data.image}" alt="gambar film" style="height:100%;width:100%"/>
      </div>
      <div>
          <h3 class="title">${data.judul}</h3>
          <div>
              <span class="btn mr-10">${data.durasi}</span>
              <span class=" btn btn-warning">Most-Watched</span>
          </div>
          <p class="sinopsis">
            ${data.sinopsis}
          </p>
          <div class="detail">
              <p>Sutradara</p>
              <p>${data.sutradara}</p>
          </div>
          <div class="detail">
              <p>Bahasa</p>
              <p>${data.bahasa}</p>
          </div>
      </div>
  </div>`

  embed.innerHTML = `
  <iframe style="width: 100%; height: 400px;" src="https://www.youtube.com/embed/${data.trailer}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  `


}

render()